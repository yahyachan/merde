### 题目解释

计划实现一个可扩展的类 ML 静态类型函数式语言。

这里可扩展指的是语言中的**复合结构**（如结构体或者类）易于扩展，可以动态的在其中加入、删除一个字段，但同时又能用静态类型系统在编译时确保类型安全。

作为函数式语言，我们肯定会支持**高阶函数**，同时鼓励用户尽量写无副作用的代码，但也不排斥副作用，计划用 algebraic effects 式的方案实现副作用管理。

此外我们还计划实现强大的**类型推导**，使得用户可以在几乎不标注任何变量、函数参数、函数返回值的情况下能让类型推导器推出所有类型（也就是所谓全局类型推导），但这里强大类型推导又不会过多的约束类型系统的表达力，类型系统将支持可扩展的类型特性以及基础的泛型。

至于语言的实现，将会包括一个 REPL 式的交互**解释器**以及一个简单的**编译器**。

### 阶段设计

需求分析和规划：首先需要明确语言的需求和目标，确定语言特性和功能。在此基础上，进行具体的规划和设计，包括语法设计、类型系统设计、编译器实现等。需要明确语言的需求和目标，包括语言特性和功能。此外，还需要对语言的应用场景、目标用户等进行充分了解，以便为用户提供更好的使用体验。

架构设计：由于该语言具有复杂的类型系统和强大的类型推导功能，需要采用适当的架构设计，以便实现可扩展性和易维护性。可能需要采用分层架构或者插件化架构等方式，将不同的功能模块分离出来，使得每个模块都能独立地进行开发、测试和部署。对于复合结构易于扩展的要求，可以采用开放闭合原则和装饰器模式，通过组合和继承等方式实现动态扩展。对于高阶函数和无副作用代码，可以采用函数式编程中的一些常用模式，如纯函数、函数组合等。

测试和调试：在开发过程中需要进行充分的测试和调试，包括单元测试、集成测试、性能测试等。特别是对于类型推导功能，需要进行充分的测试和验证，以确保其正确性和可靠性。同时，需要使用适当的工具和技术，例如断言、调试器等，帮助快速定位和解决问题。

文档和交流：在开发过程中需要及时编写文档和示例代码，以方便其他开发者参与项目和使用语言。同时需要保持充分的交流和沟通，及时解决问题和反馈需求。可以使用一些协作工具，例如Git、Slack等，帮助团队协调开发和沟通。

### 特别注意

语言的类型系统和类型推导功能是整个项目的核心，需要进行充分的设计和实现。此外，还需要进行充足的测试，以确保其正确性和可靠性。

在设计复合结构易于扩展的要求时，需要遵循开放闭合原则和装饰器模式，以避免对已有代码进行修改。同时，还需要考虑各种扩展方式的影响，以确保新添加的功能不会破坏原有代码的稳定性和正确性。

在引入副作用管理时，需要注意管理副作用的方式和效率。可以采用像algebraic effects这样的方案来管理副作用，但需要综合考虑执行效率和代码的简洁性和可读性，以避免过分损失执行效率。